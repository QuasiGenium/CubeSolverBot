# CubeSolverBot
## Библиотеки
Для работы бота необходимы библитотеки:
```
aiogram==3.20.0.post0
numpy==2.0.2
opencv-python==4.11.0.86
```
С установкой библиотеки kociemba могут возникать проблемы, поэтому было принято решение добавить её в проект.
## Функционал бота
Бот способен принимать изображение кубика, возвращая это же изображение с распознанными клетками куба.

![image](https://github.com/user-attachments/assets/9eb5ad07-b66e-4a8a-9144-c94d89873803)

Затем после 6ти изображений пирисланных пользователем в необходимом порядке, бот присылает инструкцию по решению данному ему кубика в классической натацией.

![image](https://github.com/user-attachments/assets/68475d16-929b-4aad-a1cf-04e13f9c90bb)

## Реализация

Бот реализован на библиотеке aiogram. После того, как пользователь отправляет изображение оно обрабатывается с помощью openCV (функция make_contours), которая ищет самый большой контур с надеждой на то, что пользователь хорошо сфотографировал куб. Затем аппроксимированный контур разбивается на ромбы (функция new_rombs) для того, чтобы достичь точности определения цвета. Затем берутся среднии арифметические цвета из каждой клетки. Все данные собираются в отдельный словарь.
___
После получения 6ти изображений определются самые близки к центрам по цвету клетки (функция colors_into_code), а после переводим полученные данные в удобный для kociemba формат. kociemba в свою очередь выдаёт нам нужную инструкцию для решения.
